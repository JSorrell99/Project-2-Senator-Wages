<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Story template</title>

    <!-- Google fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,700;1,400;1,700&display=swap"
        rel="stylesheet">
    <style>
        body {
            margin: 0;
            font-size: 20px;
            font-family: Georgia, 'Times New Roman', Times, serif;
            text-rendering: optimizeLegibility;
        }

        .content {
            max-width: 640px;
            margin: auto;
        }

        .header {
            padding: 3em 0;
        }

        a {
            color: #f05349;
        }

        .footer {
            background: #f4f4f4;
            text-align: center;
            font-size: 0.8em;
            margin-top: 4em;
            padding: 4em 0;
        }

        figure {
            margin: 0;
            padding-bottom: 1.2em;
        }

        figcaption {
            font-size: 0.8em;
            text-align: center;
            margin-top: 0.5em;
            color: #666;
        }

        h1 {
            font-family: 'Lora', Georgia, serif;
            font-weight: bold;
            font-size: 3em;
            line-height: 1.1;
        }

        .subhead {
            font-family: 'Lora', Georgia, serif;
        }

        iframe,
        img,
        video {
            max-width: 100%;
        }

        p {
            line-height: 1.6;
            margin: 0;
            padding-bottom: 1.2em;
        }

        ul {
            margin: 0;
            padding-bottom: 1em;
            line-height: 1.6;
        }

        iframe {
            padding-bottom: 1.2em;
        }

        code {
            font-family: 'Courier New', monospace;
            background: #fffbaf;
            font-size: 0.85em;
        }

        .full-width figure {
            text-align: center;
        }

        /* margin on mobile */
        @media (max-width: 640px) {
            body {
                font-size: 18px;
            }

            .content {
                padding-left: 0.5em;
                padding-right: 0.5em;
            }
            .top-image {
            max-width: 100%;
            height: auto;
            display: block;
            margin-left: auto;
            margin-right: auto;
            padding-bottom: 1.2em;
        }
        }
    </style>
</head>

<body>
    <div class="content">
    <img class="top-image" alt="damaged currency" src="https://cdn.shopify.com/s/files/1/1639/0931/files/damaged-currency.jpg?v=1643611647">  
        <div class="header">
            <h1>This is a work in progress</h1>
            <p class="subhead">Here is the subhead or additional content you want to add in</p>
        </div>
          
        <div class="byline">
            <p>By Janean Sorrell</a></p>
        </div>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore
            magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
            commodo consequat.</p>
        <p>You can change the fonts by using <a href="https://fonts.google.com/">Google Fonts</a> and some CSS. Right
            now we're using Lora for headlines and Georgia for body copy.</a></p>
        <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
            Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est
            laborum.</p>

        <iframe title="100 Years of Pay: Senators' Salaries Soar as Minimum Wage Struggles to Keep Up" aria-label="Interactive line chart" id="datawrapper-chart-Lxl4Y" src="https://datawrapper.dwcdn.net/Lxl4Y/2/" scrolling="no" frameborder="0" style="width: 0; min-width: 100% !important; border: none;" height="428" data-external="1"></iframe><script type="text/javascript">!function(){"use strict";window.addEventListener("message",(function(a){if(void 0!==a.data["datawrapper-height"]){var e=document.querySelectorAll("iframe");for(var t in a.data["datawrapper-height"])for(var r=0;r<e.length;r++)if(e[r].contentWindow===a.source){var i=a.data["datawrapper-height"][t]+"px";e[r].style.height=i}}}))}();
</script>

        <p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem
            aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.
            Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni
            dolores eos qui ratione voluptatem sequi nesciunt.</p>

        <ul>
            <li>One thing</li>
            <li>A second thing</li>
            <li>A third thing</li>
        </ul>

        <p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem
            aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.
            Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni
            dolores eos qui ratione voluptatem sequi nesciunt.</p>

       <iframe title="A Tale of Two Salaries: Inflation-Adjusted U.S. Senator and Minimum Wage Earnings" aria-label="Interactive line chart" id="datawrapper-chart-7MdKK" src="https://datawrapper.dwcdn.net/7MdKK/2/" scrolling="no" frameborder="0" style="width: 0; min-width: 100% !important; border: none;" height="507" data-external="1"></iframe><script type="text/javascript">!function(){"use strict";window.addEventListener("message",(function(a){if(void 0!==a.data["datawrapper-height"]){var e=document.querySelectorAll("iframe");for(var t in a.data["datawrapper-height"])for(var r=0;r<e.length;r++)if(e[r].contentWindow===a.source){var i=a.data["datawrapper-height"][t]+"px";e[r].style.height=i}}}))}();
</script>

        <p>Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non
            numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem. Ut enim ad minima
            veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi
            consequatur?</p>
<link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
   <style>
        body {
            margin: 0;
            font-family: Georgia, 'Times New Roman', Times, serif;
            line-height: 1.6;
        }
        .content {
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem 1rem;
        }
        h1, h2 {
            font-family: 'Lora', Georgia, serif;
        }
        .scrolly {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .map-container {
            position: sticky;
            top: 0;
            height: 90vh;
            width: 100%;
            overflow: hidden;
            padding-top: 10vh;
        }
        .map {
            position: absolute;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
            pointer-events: none;
        }
        .map.active {
            opacity: 1;
            pointer-events: auto;
        }
        .map iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
        .steps-container {
            position: relative;
            z-index: 1;
        }
        .step {
            margin: 0 auto 80vh;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.8);
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            border-radius: 4px;
            max-width: 400px;
        }
        .step.active {
            background: rgba(255, 255, 255, 0.9);
        }
    </style>
</head>
<body>
    <div class="content">
        <h1>Minimum Wage Across the United States</h1>
        <p>Scroll down to explore the minimum wage situation across different states in the US.</p>
    </div>

    <div class="scrolly">
    <div class="map-container">
        <div id="map1" class="map">
            <iframe title="New Map Title" aria-label="Map" id="datawrapper-chart-ybWpy" src="https://datawrapper.dwcdn.net/ybWpy/1/" scrolling="no" style="width: 100%; height: 100%;" data-external="1"></iframe>
        </div>
        <div id="map2" class="map">
            <iframe title="States Below Federal Minimum Wage" aria-label="Map" id="datawrapper-chart-XzxtX" src="https://datawrapper.dwcdn.net/XzxtX/1/" scrolling="no" style="width: 100%; height: 100%;" data-external="1"></iframe>
        </div>
        <div id="map3" class="map">
            <iframe title="States At or Below Federal Minimum Wage" aria-label="Map" id="datawrapper-chart-Gfmcl" src="https://datawrapper.dwcdn.net/Gfmcl/1/" scrolling="no" style="width: 100%; height: 100%;" data-external="1"></iframe>
        </div>
        <div id="map4" class="map">
            <iframe title="State Minimum Wage Comparison Across the Nation" aria-label="Map" id="datawrapper-chart-SsiWt" src="https://datawrapper.dwcdn.net/SsiWt/3/" scrolling="no" style="width: 100%; height: 100%;" data-external="1"></iframe>
        </div>
    </div>
    <div class="steps-container">
        <div class="step" data-step="1">
            <h2>New Map Title</h2>
            <p>Description for the new map goes here.</p>
        </div>
        <div class="step" data-step="2">
            <h2>States <span style="color: #ffa600;">Below</span> Federal Minimum Wage</h2>
            <p>This map shows states with a minimum wage <span style="color: #ffa600;">below</span> the federal level of $7.25 per hour.</p>
        </div>
        <div class="step" data-step="3">
            <h2>States At or Below Federal Minimum Wage</h2>
            <p>Here we see both states below and at the federal minimum wage of $7.25 per hour.</p>
        </div>
        <div class="step" data-step="4">
            <h2>All States' Minimum Wage Comparison</h2>
            <p>This map compares all states, highlighting those below, at, and above the federal minimum wage.</p>
        </div>
    </div>
</div>

    <script src="https://unpkg.com/intersection-observer@0.5.1/intersection-observer.js"></script>
    <script src="https://unpkg.com/scrollama"></script>
    <script>
        const scroller = scrollama();
        
        function handleStepEnter(response) {
            const { element, index, direction } = response;
            
            // Update steps
            document.querySelectorAll('.step').forEach(el => el.classList.remove('active'));
            element.classList.add('active');
            
            // Update maps
            document.querySelectorAll('.map').forEach(el => el.classList.remove('active'));
            document.querySelector(`#map${index + 1}`).classList.add('active');
        }

        function init() {
            scroller.setup({
                step: '.step',
                offset: 0.5,
            }).onStepEnter(handleStepEnter);

            window.addEventListener('resize', scroller.resize);
        }

        init();

        // Ensure Datawrapper iframes are responsive
        window.addEventListener('message', function(event) {
            if (typeof event.data['datawrapper-height'] !== 'undefined') {
                var iframes = document.querySelectorAll('iframe');
                for (var chartId in event.data['datawrapper-height']) {
                    for (var i = 0; i < iframes.length; i++) {
                        if (iframes[i].contentWindow === event.source) {
                            iframes[i].style.height = event.data['datawrapper-height'][chartId] + 'px';
                        }
                    }
                }
            }
        });
    </script>
    
    </div>
    </div>
    <div class="content">
        <p>At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti
            atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique
            sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga.</p>
        <p>Et harum quidem rerum facilis est et expedita distinctio. Nam libero tempore, cum soluta nobis est eligendi
            optio cumque nihil impedit quo minus id quod maxime placeat facere possimus, omnis voluptas assumenda est,
            omnis dolor repellendus.</p>

    </div>
    <div class="full-width">
      
    </div>
    <div class="content">
        <p>At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti
            atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique
            sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga.</p>
        <p>Et harum quidem rerum facilis est et expedita distinctio. Nam libero tempore, cum soluta nobis est eligendi
            optio cumque nihil impedit quo minus id quod maxime placeat facere possimus, omnis voluptas assumenda est,
            omnis dolor repellendus.</p>
    </div>
    <div class="footer">
        <div class="content">
            <p>You can find the code for this template <a href="https://github.com/jsoma/page-templates/">here</a>.
                Delete these lines
                when you use it, and don't forget to change the <code>title</code> tag!!!</p>
        </div>
    </div>
</body>

</html>
